package data;

import java.util.ArrayList;
import java.util.Hashtable;
import java.util.List;

public class CustomerManager {
    private static CustomerManager instance;
    private List<Customer> customerList;
    private static Hashtable<String, Customer> customers = new Hashtable<>();
    public CustomerManager() {
        customerList = new ArrayList<>();
 
        customerList.add(new Customer("C001", "admin", "admin@gmail.com", "123456"));
        customerList.add(new Customer("C002", "tien", "tien@gmail.com", "2345678"));
    }

    public static CustomerManager getInstance() {
        if (instance == null) {
            instance = new CustomerManager();
        }
        return instance;
    }

    /**
     * Xử lý đăng nhập
     */
 
      

        public boolean register(String name, String phone, String pass) {
            if (customers.containsKey(phone)) {
                return false; // đã tồn tại
            }

            customers.put(phone, new Customer(name, phone, pass));
            return true;
        }

        public Customer login(String phone, String pass) {
            Customer c = customers.get(phone);
            if (c != null && c.getPassword().equals(pass)) {
                return c;
            }
            return null;
        }
    }


    public List<Customer> getCustomerList() {
        return customerList;
    }
}